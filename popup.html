<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daily Report</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h2 class="heading">Daily Reports</h2>
      <button class="btn btn-success main-button" id="addReportButton">
        Add Report
      </button>
      <button class="btn btn-warning main-button" id="viewReportButton">
        View Report
      </button>

      <!-- Popup for adding a new report -->
      <div class="popup" id="reportPopup" style="display: none">
        <form id="reportForm">
          <div class="form-group">
            <label for="companyName">Company Name:</label>
            <input disabled placeholder="Logelite Pvt Ltd" />
          </div>
          <div class="form-group">
            <label for="taskDescription">Tasks Title:</label>
            <textarea
              id="taskDescription"
              required
              placeholder="List your tasks title here..."
            ></textarea>
          </div>
          <div class="form-group">
            <input
              type="hidden"
              id="hoursWorked"
              name="hoursWorked"
              value="1"
            />
          </div>
          <div class="form-group">
            <label for="issues">Issues Faced:</label>
            <textarea
              id="issues"
              name="issues"
              placeholder="Mention any issues faced..."
            ></textarea>
          </div>
          <button type="submit" class="btn btn-success submit-button">
            Submit Report
          </button>
          <button
            type="button"
            class="btn btn-danger close-button"
            id="closeAddPopup"
          >
            Close
          </button>
        </form>
      </div>

      <!-- Popup for viewing reports -->
      <div
        class="popup bg-light p-4 border rounded"
        id="viewReportPopup"
        style="display: none"
      >
        <h3 style="display: flex; justify-content: space-between">
          <span>Logelite Pvt Ltd</span>
          <!-- Add this button inside the #viewReportPopup div -->
          <button class="w-50 btn btn-primary" id="downloadCsvButton">
            Download CSV
          </button>
        </h3>
        <table class="table table-striped table-bordered" id="reportTable">
          <thead>
            <tr>
              <th>Tasks Title</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Reports will be populated here -->
          </tbody>
        </table>
        <div class="pagination-wrapper">
          <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
              <li class="page-item" id="prevPage">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <li class="page-item" id="nextPage">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
          <div id="pageInfo" class="text-center"></div>
        </div>
        <button
          type="button"
          class="btn btn-danger close-button"
          id="closeViewPopup"
        >
          Close
        </button>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
